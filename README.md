# Проектная работа "Веб-ларек"

##

### Используемый стек технологий:

- **HTML** : Маркап-язык для создания структуры веб-страниц.
- **SCSS** : Расширение CSS с поддержкой переменных, миксинов и вложенных правил.
- **TypeScript (TS)** : Статически типизированный язык программирования, обеспечивающий безопасность кода и удобство
  разработки.
- **Webpack** : Менеджер сборки для оптимизации и компиляции ресурсов.

------------

### Структура проекта:

``` project/
├── src/                          # Корневая директория исходных файлов
│   ├── components/               # Директория для компонентов приложения
│   │   └── base/                 # Базовые компоненты или общие утилиты
│   ├── pages/                    # HTML-шаблоны страниц
│   ├── scss/                     # SCSS-файлы для стилей
│   ├── types/                    # Файлы с типами TypeScript
│   ├── utils/                    # Утилитарные модули
│   └── index.ts                  # Точка входа приложения
```

------------

### Основные файлы и их назначение:

1. **src/pages/index.html**

- **Описание** : Главный HTML-файл, представляющий структуру домашней страницы приложения.
- **Функциональность** : Содержит базовую разметку и точки подключения скриптов и стилей.

2. **src/types/index.ts**

- **Описание** : Центральный файл для определения глобальных типов данных.
- **Функциональность** : Обеспечивает единообразие типизации через интерфейсы и объединения.

3. **src/index.ts**

- **Описание** : Точка входа в приложение.
- **Функциональность** : Инициализирует основной функционал, импортирует необходимые модули и запускает приложение.

4. **src/scss/styles.scss**

- **Описание** : Корневой файл для SCSS-стилей.
- **Функциональность** : Агрегирует все частичные стили (_partials) и обеспечивает единую точку подключения стилей.

5. **src/utils/constants.ts**

- **Описание** : Файл с константами, используемыми по всему проекту.
- **Функциональность** : Хранит значения, которые не меняются во время выполнения программы (например, API-ключи,
  URL-адреса).
  6**src/utils/utils.ts**
- **Описание** : Файл с вспомогательными функциями.
- **Функциональность**  : Предоставляет методы для обработки данных, проверки валидности и других повторяющихся задач.

------------

### Инструкция по сборке и запуску

**Для локальной настройки и запуска проекта выполните следующие команды:**

1. npm install

   Установка всех необходимых зависимостей, указанных в package.json.

2. npm run start

   Запуск разработческого сервера с автоматической компиляцией и обновлением приложения.

------------

### Архитектура проекта

![UML-схема проектной работы WEB-Ларёк](https://github.com/Jilze/web-larek-frontend/blob/main/WebLarek_Architecture.png)

**Примененные принципы проектирования:**

Вышеуказанная схема была разработана с использованием принципов объектно-ориентированного программирования (ООП) . Она
демонстрирует четкое разделение ответственности между компонентами системы, что способствует масштабируемости и
поддерживаемости кода.

------------

Используемый архитектурный паттерн: MVP.
В рамках данного проекта применен паттерн Model-View-Presenter (MVP) , который обеспечивает декомпозицию приложения на
три основных слоя:

1. **Модель** :
   Отвечает за работу с данными и бизнес-логикой. Содержит классы и сервисы для управления состоянием данных,
   взаимодействия с внешними API или базами данных.
2. **Вид** :
   Представляет собой пользовательский интерфейс. Отвечает за отображение данных и получение входных данных от
   пользователя. Не содержит логики обработки событий.
3. **Презентер** :
   Активный компонент, связывающий модель и вид. Отвечает за обработку событий, вызываемых пользователем, и управление
   состоянием представления на основе данных из модели.

------------

### Базовые классы

#### 1. Класс `Model<T>`

- **Описание**
  Абстрактный дженерик-класс, предназначенный для работы с данными и событиями. Использование дженериков обеспечивает
  типобезопасность и гибкость при работе с различными типами данных. Класс объединяет объект данных и систему событий в
  единой структуре, что позволяет легко управлять состоянием и оповещать подписчиков о изменениях.

- **Конструктор**

  Конструктор класса `Model<T>` принимает два параметра:

1. `data`:  `T`
   Объект данных произвольного типа `T`. Представляет начальное состояние модели.
2. `events`:  `IEvents`
   Объект, описывающий события `IEvents`, которые могут быть вызваны или обработаны моделью.
   В процессе инициализации конструктор выполняет слияние входящего объекта data с внутренним состоянием класса, что
   позволяет расширить базовый функционал и добавить поддержку событий в единый контекст.

- **Методы**

  `notifyChanges`
  Регистрирует новое событие в системе управления событиями `EventEmitter`. Этот метод используется для уведомления всех
  подписчиков о произошедших изменениях в состоянии модели.

#### 2. Класс `Component<T>`

- **Описание**

  Абстрактный дженерик-класс, предназначенный для создания и управления компонентами пользовательского интерфейса. Класс
  предоставляет базовую функциональность для работы с DOM-элементами, включая методы для изменения состояния,
  отображения данных и управления внешним видом компонента. Использование дженериков позволяет работать с различными
  типами данных, обеспечивая гибкость и типобезопасность.

- **Конструктор**

Конструктор класса `Component<T>` принимает один параметр:

`element` типа `HTMLElement`
Ссылка на корневой DOM-элемент, который представляет собой контейнер для данного компонента. Этот элемент используется
для манипуляций с содержимым и состоянием компонента.

- **Методы**

`toggleClass` - Переключает указанный CSS-класс для корневого элемента компонента.

`setDisabled` - Устанавливает состояние "отключен" для кнопки или другого интерактивного элемента.

`_setText(text: string)` - Устанавливает текстовое содержимое корневого элемента компонента.

`_setImage` - Устанавливает изображение для указанного элемента. Если изображение не может быть загружено, отображается
альтернативный текст.

`render` - Основной метод для рендеринга компонента. Объединяет входящие данные с текущим состоянием компонента и
обновляет его представление в DOM.

#### 3. Класс `EventEmitter`

- **Описание**

Класс `EventEmitter` представляет собой реализацию паттерна "Публикация-Подписка"  и обеспечивает механизм для
управления событиями в приложении. Он позволяет регистрировать обработчики событий, вызывать их при возникновении
определенных событий, а также управлять их жизненным циклом (добавление/удаление).

- **Конструктор**

Конструктор класса `EventEmitter` инициализирует внутренний брокер событий, представляющий собой объект, который
хранит зарегистрированные обработчики для каждого типа события.

- **Методы**

`on` - Регистрирует обработчик для указанного события.

`off` - Удаляет ранее зарегистрированный обработчик для указанного события.

`emit` - Вызывает все зарегистрированные обработчики для указанного события, передавая им дополнительные аргументы.

`onAll` - Регистрирует множество обработчиков одновременно. Принимает объект, где ключи — это названия событий, а
значения — соответствующие функции-обработчики.

`trigger` - Алиас для метода emit, позволяющий генерировать события с тем же набором параметров. Может использоваться
для более удобного вызова событий в коде.

#### 4. Класс `Api`

- **Описание**

  Класс `Api` представляет собой базовую реализацию для выполнения HTTP-запросов к серверу. Он предоставляет методы для
  отправки и получения данных, а также обработку ответов в формате JSON. Этот класс является фундаментальным
  инструментом для взаимодействия с внешними API или собственным сервером, обеспечивая гибкость и удобство
  использования.

- **Конструктор**
  Конструктор класса Api принимает два параметра:

1. `baseUrl` - Базовый URL сервера, который используется для всех запросов.
2. `options` - Объект с общими настройками для всех запросов, такими как заголовки , таймауты или методы аутентификации.

- **Методы**

`_handleResponse` - Внутренний метод для обработки ответа от сервера. Преобразует ответ в формат JSON и проверяет его
статус. Если статус успешный, возвращает данные; если нет, отклоняет промис с ошибкой.

`get` - Выполняет GET-запрос к указанному эндпоинту.

`post` - Выполняет POST-запрос к указанному эндпоинту с передачей данных в формате JSON. Метод можно переопределить с
помощью третьего параметра.
Возвращает : Промис, содержащий ответ от сервера.

------------

### Классы для работы с моделью данных

### 1. Класс `ApplicationState`

- **Описание**

  Класс `ApplicationState` представляет собой центральную модель данных для всего приложения. Он отвечает за хранение и
  управление основными группами данных, используемых на страницах, таких как каталог товаров, превью, корзина и форма
  заказа. Класс наследуется от базового абстрактного класса `Model<T>` и реализует интерфейс` IApplicationState`, что
  обеспечивает четкую типобезопасность и структурированность данных.

- **Интерфейс `IApplicationState`**

```tsx
interface IApplicationState {
	productCatalog: IProduct[]; // Список товаров из каталога
	selectedPreview: string; // ID или название товара в превью
	cartItems: Product[]; // Товары, добавленные в корзину
	currentOrder: IOrder; // Информация о текущем заказе
	totalAmount: number; // Общая сумма заказа (числовое значение)
}
```

- **Поля**

`productCatalog` - Хранит список товаров, полученных с сервера. Используется для отображения каталога продуктов.
`selectedPreview` - Содержит информацию о товаре, который в данный момент отображается в превью (например, ID или
название товара).
`cartItems` - Хранит массив товаров, добавленных пользователем в корзину.
`currentOrder` - Содержит информацию о текущем заказе, включая данные о товарах, контакты клиента и общую сумму.
`orderFormErrors` - Используется для хранения ошибок валидации полей формы заказа. Ключи — это названия полей,
значения — сообщения об ошибках.

- **Методы**

  `clearCart` -Очищает данные корзины, устанавливая cartItems в пустой массив.
  `updateCatalog` - Обновляет список товаров в каталоге.
  `updatePreview` -Устанавливает данные для превью товара.
  `addItemToCart` - Добавляет товар в корзину.
  `removeItemFromCart` - Удаляет товар из корзины по его ID.
  `get isBasketEmpty` - Возвращает true, если корзина пуста.
  `get basketItems` - Возвращает массив товаров, находящихся в корзине.
  `calculateTotal` - Вычисляет общую сумму товаров в корзине на основе цен и количества товаров.
  `updateOrderField` - Обновляет значение указанного поля в объекте заказа.
  `updateContactsField` - Обновляет значение указанного поля контактной информации клиента.
  `isOrderValid` - Выполняет проверку валидности данных заказа. Возвращает true, если все обязательные поля заполнены
  корректно.
  `areContactsValid` - Выполняет проверку валидности контактной информации клиента. Возвращает true, если данные
  соответствуют требованиям.

#### 2. Класс `ProductsApi`

- **Описание**
  Класс `ProductsApi` представляет собой специализированный инструмент для взаимодействия с сервером в контексте
  управления данными о товарах. Он использует композицию, принимая экземпляр базового класса `Api` в конструкторе, что
  позволяет расширять его функциональность без необходимости наследования.

- **Конструктор**
  Конструктор класса `ProductsApi` принимает следующие параметры:

1. `baseUrl` - Базовый `URL` сервера, который используется для всех запросов.
2. `options` - Объект с общими настройками для запросов, такими как заголовки, методы аутентификации или таймауты.
3. `cdnUrl` - Специальный `URL` для доступа к контент-доставляющей сети, используемый для загрузки медиаконтента или
   других ресурсов. Сохраняется в поле `cdn`.

- **Методы**

  `fetchProductList`- Метод для получения списка товаров с сервера. Выполняет `GET-запрос` к соответствующему эндпоинту
  и возвращает промис с массивом объектов продуктов.
  `orderProducts` - Метод для отправки данных заказа на сервер. Выполняет `POST-запрос` к эндпоинту заказов с передачей
  данных в формате JSON.

------------

### Классы для работы с системой отображения.

#### 1. Класс `ProductCard`

- **Описание**

Класс `ProductCard` отвечает за отображение данных о товаре в каталоге. Он связывает данные с соответствующей разметкой
и предоставляет методы для заполнения этой разметки. Класс наследуется от базового абстрактного класса `Component<T>` и
реализует интерфейс `IProductCard`, что обеспечивает четкую типобезопасность и структурированность данных.

- **Интерфейс `IProductCard`**

```tsx
interface IProductCard {
	_name: string; // Заголовок карточки товара
	_category: string; // Категория товара
	_imageUrl: string; // URL изображения товара
	_cost: number; // Цена товара
	_colorType: string; // Словарь для модификации класса категории
}
```

- **Конструктор**

Конструктор класса `ProductCard` принимает два параметра:

1. `element: HTMLElement` - Представляет контейнер для карточки товара. Передается в родительский конструктор для
   инициализации базового функционала.
2. `eventHandlers?: ICardEventHandlers` - Объект, содержащий обработчики событий для карточки. Если передан,
   устанавливается слушатель события клика на element, который вызывает указанный метод из объекта событий.
   Внутри конструктора сохраняются ссылки на необходимые элементы разметки в соответствующих полях класса.

- **Поля**

`_name` - Хранит ссылку на элемент разметки, представляющий заголовок карточки товара.
`_category` - Хранит ссылку на элемент разметки, представляющий категорию товара.
`_imageUrl` - Хранит URL изображения товара.
`_cost` - Хранит ссылку на элемент разметки, представляющий цену товара.
`_colorType` - Представляет словарь для модификации класса категории в зависимости от ее значения. Например, может
использоваться для изменения цвета фона или текста категории.

- **Методы**

  `set name` - Устанавливает содержимое заголовка карточки на указанное значение.
  `set category` - Устанавливает содержимое категории товара на указанное значение.
  `set imageUrl` - Устанавливает URL изображения товара на указанное значение.
  `set cost` - Устанавливает содержимое цены товара на указанное значение.

#### 2. Класс `ProductPreview`

- **Описание**

Класс `ProductPreview` представляет собой компонент для отображения упрощенной карточки товара. Он реализует интерфейс
`IProductPreview` и расширяет базовый класс `ProductCard<T>`. Основная задача класса — динамически заполнять
HTML-разметку данными о товаре, полученными из внешних источников, а также обеспечивать взаимодействие с пользователем
через события.
Структура данных, необходимых для отображения превью, определена следующим интерфейсом:

```tsx
interface IProductPreview {
	text: string; // Текстовое описание товара.
}
```

- **Конструктор**

Конструктор класса `ProductPreview` принимает два параметра:

1. `element: HTMLElement` — корневой элемент DOM, к которому будет привязана разметка компонента.
2. `eventHandlers?: ICardEventHandlers` — необязательный объект, содержащий обработчики событий для взаимодействия с
   пользователем.

При вызове конструктора:

Параметры `element` и `eventHandler`s передаются в конструктор родительского класса `ProductCard<T>`.
Внутренние поля `_text` и `_button` инициализируются ссылками на соответствующие элементы DOM внутри разметки.
Если объект `eventHandlers` был передан, устанавливается обработчик события `click` на кнопке `_button`. Этот обработчик
вызывает метод из объекта `eventHandlers`, при этом предварительно удаляя все существующие слушатели с элемента
`element`.

- **Поля**

`_text: HTMLElement` - Ссылка на HTML-элемент, отвечающий за отображение текстового описания товара. Поле используется
для динамического обновления содержимого описания.
`_button: HTMLElement` - Ссылка на HTML-элемент кнопки, предназначенной для взаимодействия с пользователем. Может
использоваться для таких действий, как добавление товара в корзину или переход на страницу детального просмотра
товара.

-**Методы**

`set text` - Для установки или обновления текстового описания карточки товара. Метод принимает строку `value` и
обновляет содержимое поля `_text`, что позволяет адаптировать информацию о товаре в реальном времени в зависимости от
состояния приложения или действий пользователя.

#### 3. Класс `ProductsBasket`

- **Описание**

Класс `ProductsBasket` представляет компонент для отображения информации о товаре в корзине покупок. Он обеспечивает
динамическую визуализацию данных, таких как название товара, его стоимость и порядковый номер в списке корзины.
Этот класс расширяет абстрактный базовый класс `Component<T>` и реализует интерфейс `IProductsBasket`, который
определяет необходимую структуру данных для представления карточки товара в корзине.
Структура данных, используемая для передачи информации о товаре, определена следующим интерфейсом:

```tsx
interface IProductsBasket {
	name: string;   // Название товара.
	cost: number;   // Стоимость товара.
	index: number;  // Порядковый номер товара в корзине.
}
```

- **Конструктор**

Конструктор класса `ProductsBasket` принимает два параметра:

1. `element: HTMLElement` — элемент DOM, представляющий контейнер для разметки компонента.
2. `eventHandlers?: ICardActions` — необязательный объект, содержащий обработчики событий для взаимодействия с
   пользователем (например, удаление товара из корзины).

При вызове конструктора:

Параметр `element` передается в конструктор родительского класса `Component<T>`, что позволяет использовать общие методы
и свойства базового класса.
Внутренние поля `_name`, `_button`,` _cost` и `_index` инициализируются ссылками на соответствующие элементы DOM внутри
разметки компонента.
Если объект `eventHandlers` был передан, устанавливается обработчик события `click` на кнопку `_button`. Этот обработчик
вызывает соответствующий метод из объекта `eventHandlers`. Перед установкой нового слушателя, все существующие
обработчики событий с элемента `element` удаляются для предотвращения конфликтов.

- **Поля**

  `_name: HTMLElement` - Ссылка на HTML-элемент, отвечающий за отображение названия товара.
  `_button: HTMLElement` - Ссылка на HTML-элемент кнопки, предназначенной для удаления товара из корзины.
  `_cost: HTMLElement` - Ссылка на HTML-элемент, отображающий стоимость товара.
  `_index: HTMLElement` - Ссылка на HTML-элемент, показывающий порядковый номер товара в списке корзины.

- **Методы**

  `set name` - Для установки или обновления названия товара. Принимает строковое значение `value` и обновляет содержимое
  поля `_name`.
  `set index` - Для установки или обновления порядкового номера товара. Принимает числовое значение `value` и обновляет
  содержимое поля `_index`.
  `set cost` - Для установки или обновления стоимости товара. Принимает числовое значение value и обновляет содержимое
  поля` _cost`.

#### 4. Класс `MarketPlace`

- **Описание**

Класс `MarketPlace` представляет собой основной компонент для управления пользовательским интерфейсом веб-магазина. Он
отвечает за интеграцию и взаимодействие различных элементов страницы, таких как каталог товаров, корзина и счетчик
товаров в корзине.
Класс обеспечивает динамическое обновление содержимого страницы, управляет состоянием прокрутки при работе с модальными
окнами (например, при открытии корзины) и предоставляет механизмы для взаимодействия между компонентами.
Структура данных, используемая для передачи информации о товарах, определена следующим интерфейсом:

```tsx
interface IMarketPlace {
	items: HTMLElement[]; // Массив HTML-элементов, представляющих товары в каталоге.
}
```

Класс `MarketPlace` наследуется от абстрактного базового класса `Component<T>` и реализует интерфейс `IMarketPlace`.

- **Конструктор**

Конструктор класса `MarketPlace` принимает два параметра:

1. `element: HTMLElement` — корневой элемент DOM, который используется для размещения содержимого страницы.
2. `events?: IEvent` — необязательный объект, содержащий обработчики событий для взаимодействия с элементами страницы.

При вызове конструктора:
Параметр `element` передается в конструктор родительского класса `Component<T>`, что позволяет использовать общие методы
и свойства базового класса.
Внутренние поля `_counter`, `_items`, `_wrapper` и `_basket` инициализируются ссылками на соответствующие элементы DOM
внутри разметки компонента.

- **Поля**

`_counter: HTMLElement` - Ссылка на HTML-элемент, отображающий количество товаров в корзине. Используется для
информирования пользователя о текущем состоянии корзины.
`_items: HTMLElement` - Массив HTML-элементов, представляющих товары в каталоге. Используется для динамического
обновления списка доступных товаров.
`_wrapper: HTMLElement` - Ссылка на контейнерный элемент, организующий структуру и стилизацию всей страницы.
`_basket: HTMLElement` - Ссылка на HTML-элемент кнопки корзины, которая позволяет пользователю открывать модальное окно
корзины.

- **Методы**

`setupBasketClickHandler` - Метод устанавливает обработчик события `click` на кнопку корзины `_basket`. При клике
регистрируется событие `basket:open`, которое может быть использовано другими компонентами для отображения модального
окна корзины.
`set counter` - Для установки значения счетчика товаров в корзине. Принимает числовое значение value и обновляет
содержимое поля `_counter`. Это позволяет динамически отображать актуальное количество товаров в корзине.
`set items` - Для установки или обновления каталога товаров. Принимает массив HTML-элементов `value` и обновляет поле
`_items`. Этот метод используется для динамического изменения списка товаров на странице.
`set lockClass` - Метод управляет состоянием прокрутки страницы. Если параметр `value` равен `true`, добавляется
специальный класс к элементу, который блокирует прокрутку страницы. Если `value` равен `false`, класс удаляется,
восстанавливая возможность прокрутки. Этот механизм улучшает пользовательский опыт, предотвращая случайные действия при
работе с модальными окнами.

#### 5. Класс `Popup`

- **Описание**

Класс `Popup` представляет универсальный компонент для отображения модальных окон, которые могут содержать произвольный
контент. Он обеспечивает функционал управления состоянием модального окна, включая его открытие, закрытие и динамическое
обновление содержимого.
Класс расширяет абстрактный базовый класс `Component<T>` и реализует интерфейс `IPopup`, который определяет структуру
данных для содержимого модального окна:

```tsx
interface IPopup {
	popupContent: HTMLElement; // HTML-элемент, представляющий контент модального окна.
}
```

- **Конструктор**

Конструктор класса `Popup` принимает два параметра:

1. `element: HTMLElement` — корневой элемент DOM, в который будет встроено модальное окно.
2. `event?: IEvent` — необязательный объект, содержащий обработчики событий для взаимодействия с элементами модального
   окна.

При вызове конструктора:

Параметр `element` передается в конструктор родительского класса `Component<T>`, что позволяет использовать общие методы
и свойства базового класса.
Выполняется инициализация внутренних полей `_closeButton` и `_popupContent`, извлекаемых из разметки переданного
контейнера.
Устанавливается обработчик события `click` на кнопку закрытия `_closeButton`, который вызывает метод closeModal для
скрытия модального окна.
Дополнительно устанавливается обработчик события `click` на элемент `_popupContent`, чтобы предотвратить распространение
события клика при взаимодействии с контентом модального окна, что исключает случайное закрытие окна.

- **Поля**

`_closeButton: HTMLElement` - Ссылка на HTML-элемент кнопки закрытия модального окна. Используется для управления
состоянием окна.
`_popupContent: HTMLElement` - Ссылка на контейнер, содержащий основной контент модального окна. Это поле позволяет
динамически изменять содержимое окна в зависимости от потребностей приложения.

- **Методы**

`_initializeElements` - Приватный метод, отвечающий за инициализацию элементов модального окна. Он извлекает необходимые
элементы из переданного контейнера и сохраняет их в соответствующих полях класса.
`_addEventListeners` - Приватный метод, добавляющий обработчики событий к элементам модального окна. Этот метод
используется для управления поведением окна при взаимодействии пользователя (например, закрытие окна по клику на
кнопку).
`set popupContent` - Для установки или обновления содержимого модального окна. Принимает HTML-элемент `value` и
обновляет поле `_popupContent`. Это позволяет динамически менять информацию, отображаемую в окне.
`openModal` - Метод для открытия модального окна. Он управляет видимостью окна, делая его доступным для взаимодействия
пользователя.
`closeModal` - Метод для закрытия модального окна. Он управляет скрытием окна и может включать дополнительные действия,
такие как очистка содержимого или сброс состояния.
`render` - Метод для отрисовки содержимого модального окна и его открытия. Он объединяет функциональность установки
содержимого (set popupContent) и открытия окна (openModal) в одном методе, что упрощает процесс работы с модальным
окном.

#### 5. Класс `Basket`

- **Описание**

Класс `Basket` представляет компонент для отображения корзины товаров в модальном окне. Он обеспечивает функциональность
управления товарами, включая их удаление из корзины, а также предоставляет информацию о списке товаров и общей сумме
заказа.

Класс расширяет абстрактный базовый класс `Component<T>` и реализует интерфейс `IBasket`, который определяет структуру
данных для работы с корзиной:

```tsx
interface IBasket {
	cartItems: HTMLElement[]; // Массив HTML-элементов, представляющих товары в корзине.
	totalAmount: number;      // Общая стоимость товаров в корзине.
}
```

- **Конструктор**

Конструктор класса `Basket` принимает два параметра:

1. `element: HTMLElement` — контейнер DOM, в который будет размещено содержимое корзины.
2. `event?: IEvent` — необязательный объект, содержащий обработчики событий для взаимодействия с элементами корзины.

При вызове конструктора:

Параметр `element` передается в конструктор родительского класса `Component<T>`, что позволяет использовать общие методы
и свойства базового класса.
Выполняется инициализация полей `_basketList`,` _totalAmount` и `basketButton`, извлекаемых из разметки переданного
контейнера.
Если существует кнопка `basketButton`, устанавливается обработчик события `click`, который регистрирует событие
`order:open`. Это позволяет пользователю перейти к следующему шагу оформления заказа.

- **Поля**

`_basketList` - Ссылка на HTML-элемент, представляющий список товаров в корзине. Используется для динамического
отображения всех добавленных товаров.
`_totalAmount` - Ссылка на HTML-элемент, отображающий общую сумму товаров в корзине. Используется для информирования
пользователя о текущей стоимости покупок.
`basketButton` - Ссылка на кнопку, которая позволяет пользователю перейти к оформлению заказа. Управляет навигацией
между этапами процесса покупки.
`cartItems` - Массив HTML-элементов, представляющих товары в корзине. Используется для управления состоянием и
отображением списка товаров.

- **Методы**

`_initializeElements` - Приватный метод, выполняющий инициализацию всех необходимых элементов интерфейса. Он извлекает
ссылки на соответствующие HTML-элементы из разметки и сохраняет их в полях класса.
`_addEventListeners` - Приватный метод, добавляющий обработчики событий для элементов корзины. Этот метод используется
для управления поведением компонента при взаимодействии пользователя (например, удаление товара или переход к оформлению
заказа).
`_handleOrderOpen` - Приватный метод, обрабатывающий событие клика на кнопке basketButton. Регистрирует событие
`order:open`, которое может быть использовано другими компонентами для запуска процесса оформления заказа.
`set cartItems` - Для установки или обновления списка товаров в корзине. Принимает массив HTML-элементов `value` и
обновляет содержимое поля `_basketList`. Это позволяет динамически изменять список товаров по мере добавления или
удаления.
`set totalAmount` - Для установки или обновления общей суммы товаров в корзине. Принимает числовое значение value и
обновляет содержимое поля `_totalAmount`.

#### 6. Класс `Order`

- **Описание**

Класс `Order` представляет компонент для отображения первого шага процесса оформления заказа в модальном окне. Он
предоставляет интерфейс для ввода данных, необходимых для завершения покупки, таких как информация о платеже, адрес
доставки, контактные данные и общая сумма заказа.

Класс расширяет базовый класс `Form<T>` и реализует интерфейс `IOrderDetails`, который определяет структуру данных для
оформления заказа:

```tsx
interface IOrderDetails {
	paymentMethod?: string;      // Выбранный метод оплаты.
	deliveryAddress?: string;    // Адрес доставки.
	contactNumber?: string;      // Номер телефона для связи.
	emailAddress?: string;       // Электронная почта.
	orderTotal?: string | number; // Общая сумма заказа.
	items: IOrder[]; // Массив товаров в заказе.
	status?: string; // Статус заказа.
}
```

- **Конструктор**

При создании экземпляра класса `Order`:

Параметры `element` (HTML-элемент контейнера) и `event` (объект обработчиков событий) передаются в конструктор
родительского класса `Form<T>`, что позволяет использовать его функциональность.
Выполняется инициализация полей класса, связанных с элементами разметки.
На кнопки выбора метода оплаты `_flatButtons` устанавливаются обработчики события `click`. При нажатии на кнопку
вызывается метод `set paymentMethod`, который устанавливает класс активности на выбранной кнопке, визуально обозначая
выбранный метод оплаты.

- **Поля**

`_flatButtons` - Ссылка на коллекцию HTML-элементов кнопок формы оплаты. Используется для управления состоянием кнопок и
предоставления пользователю возможности выбрать предпочтительный метод оплаты.

- **Методы**

`_handleButtonClick` - Приватный метод, предназначенный для обработки кликов по кнопкам с классом `.button_alt`. Этот
метод определяет логику изменения состояния кнопок при выборе метода оплаты.
`set paymentMethod` - Для установки выбранного метода оплаты. Метод принимает строковое значение value и добавляет класс
активности к соответствующей кнопке, визуально выделяя её.
`set deliveryAddress` - Для установки значения поля адреса доставки. Метод принимает строку value и обновляет
соответствующее поле в форме, позволяя пользователю вводить или изменять информацию о месте доставки.

#### 7. Класс `ContactInformation`

- **Описание**

Класс `ContactInformation` отвечает за отображение второго шага оформления заказа в модальном окне. Он предоставляет
интерфейс для ввода контактной информации, такой как номер телефона и адрес электронной почты. Класс наследуется от
базового класса `Form<T>` и реализует интерфейс `IOrderDetails`, что позволяет использовать общие методы работы с
формами и валидацией.

- **Конструктор**

Конструктор класса `ContactInformation` принимает два параметра:

1. `element: HTMLElement` - Элемент DOM, который будет использоваться для размещения содержимого формы. Передается в
   конструктор родительского класса Form<T> для инициализации базовой функциональности.
2. `event: IEvent` - Объект, содержащий обработчики событий для взаимодействия с элементами формы. Также передается в
   родительский конструктор для установки слушателей событий.

- **Методы**

`set contactNumber` - Устанавливает значение поля "номер телефона" в форме. Принимает строку и обновляет соответствующее
поле, позволяя пользователю вводить свой номер телефона.
`set emailAddress` - Устанавливает значение поля "адрес электронной почты" в форме. Принимает строку и обновляет
соответствующее поле, позволяя пользователю вводить свой адрес электронной почты.

#### 8. Класс `Form<T>`

- **Описание**

Интерфейс `IValidationState` определяет методы и свойства для управления состоянием валидации компонентов.
Абстрактный класс `Component<T>` представляет собой универсальный базовый класс для всех компонентов пользовательского
интерфейса. Он принимает тип данных T для представления содержимого компонента.
Класс `Form<T>` представляет собой специализированный компонент для работы с формами и их валидацией. Он расширяет
базовый
класс `Component<T>` и реализует интерфейс `IValidationState`.
и ошибки.

- **Конструктор**

Конструктор класса `Form<T>` принимает два параметра:

1. `element: HTMLElement` - Элемент DOM, который будет использоваться для размещения содержимого формы. Передается в
   конструктор родительского класса для инициализации базовой функциональности.
2. `event: IEvent` - Объект, содержащий обработчики событий для взаимодействия с элементами формы. Также передается в
   родительский конструктор для установки слушателей событий.

Внутри конструктора выполняются следующие действия:
Инициализируются ссылки на необходимые элементы разметки.
Устанавливаются обработчики событий `input` и `submit` для управления изменениями полей формы и отправкой данных.

- **Поля**

`_submitButton` - Хранит ссылку на кнопку отправки формы, позволяя управлять её состоянием (например, блокировать при
недопустимых данных).
`_validationErrors` - Хранит ссылку на контейнер для вывода сообщений об ошибках валидации, обеспечивая информирование
пользователя о проблемах с введенными данными.

- **Методы**

`_initializeElements` - Метод отвечает за инициализацию всех необходимых элементов формы, таких как поля ввода, кнопки и
контейнеры для ошибок.
`_addEventListeners` - Метод добавляет обработчики событий для элементов формы, включая обработчики для событий `input`
и `submit`.
`_handleInputChange` - Обработчик события изменения полей ввода. Вызывает метод `handleFieldChange` для регистрации
изменений конкретного поля.
`_handleSubmit` - Обработчик события отправки формы. Предотвращает стандартное поведение браузера и вызывает логику
проверки валидности формы.
`handleFieldChange` - Метод, который регистрирует событие изменения конкретного поля формы. Обновляет состояние формы в
зависимости от введенных данных.
`set isValid` - Метод для установки состояния валидности формы. Принимает булевое значение и обновляет флаг `isValid`,
что позволяет управлять поведением формы (например, активировать/деактивировать кнопку отправки).
`set validationErrors` - Метод для установки ошибок валидации. Принимает массив строк и обновляет состояние
`validationErrors`, что позволяет отображать сообщения об ошибках пользователю.
`render` - Метод для отрисовки формы и её элементов. Отвечает за визуальное представление формы на странице, включая все
поля ввода, кнопки и сообщения об ошибках.

#### 9. Класс `OrderConfirmed`

- **Описание**

Класс `OrderConfirmed` отвечает за отображение сообщения об успешном оформлении заказа в модальном окне. Он служит
контентом для модального окна, предоставляя пользователю информацию о завершении процесса покупки. Класс расширяет
базовый абстрактный класс `Component<T>` и реализует интерфейс `IOrderConfirmed`, который определяет структуру данных,
необходимые для отображения информации о заказе.

- **Конструктор**

Конструктор класса `OrderConfirmed` принимает два параметра:

1. `element: HTMLElement` - Элемент DOM, который будет использоваться для размещения содержимого сообщения об успешном
   заказе. Передается в конструктор родительского класса для инициализации базовой функциональности.
2. `actions?: IActionHandler` - Объект, содержащий обработчики событий для взаимодействия с элементами. Если передан,
   устанавливается обработчик события `click` на кнопке закрытия `_closeButton`, что позволяет пользователю закрыть
   модальное окно после успешного оформления заказа.

Внутри конструктора выполняются следующие действия:
Сохраняются ссылки на необходимые элементы разметки в полях класса.
Инициализируется обработчик события для кнопки закрытия, если объект actions был передан.

- **Поля**

`_totalAmount` - Хранит ссылку на элемент разметки, используемый для отображения общей суммы товаров в заказе.
`_closeButton` - Содержит ссылку на кнопку закрытия окна, позволяя пользователю закрыть модальное окно после успешного
оформления заказа.

- **Методы**

`_getElement` - Вспомогательный метод для получения элемента DOM по заданному селектору. Принимает строку с селектором и
возвращает соответствующий элемент.
`_initializeCloseButton` - Метод отвечает за инициализацию обработчика события для кнопки закрытия. Устанавливает
обработчик события `click` на `_closeButton`, вызывающий метод из объекта `actions`.
`set totalAmount` - Метод для установки значения общей суммы заказа. Принимает число и обновляет поле `_totalAmount`,
что позволяет пользователю видеть актуальную стоимость всех товаров в заказе.